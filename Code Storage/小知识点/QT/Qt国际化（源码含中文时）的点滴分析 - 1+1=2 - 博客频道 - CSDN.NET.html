<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!-- saved from url=(0055)http://blog.csdn.net/dbzhang800/article/details/6334852 -->
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script src="./Qt国际化（源码含中文时）的点滴分析 - 1+1=2 - 博客频道 - CSDN.NET_files/dbzhang800"></script>
<title>Qt国际化（源码含中文时）的点滴分析 - 1+1=2 - 博客频道 - CSDN.NET</title>

<meta name="description" content="本文不介绍如何使用Qt的国际化、本地化支持。本文针对的是偏底层的、Manual和其他资料中很少涉及的东西。所以，继续之前，请先确保：你已经对如何使用Qt的国际化比较熟悉了。本文针对的是 tr(我是中文)这种情况， 是Qt中translate、tr 与中文问题一文提到的 2b 问题的深入。">
<script type="text/javascript" async="" src="./Qt国际化（源码含中文时）的点滴分析 - 1+1=2 - 博客频道 - CSDN.NET_files/getnl"></script><script type="text/javascript" async="" src="./Qt国际化（源码含中文时）的点滴分析 - 1+1=2 - 博客频道 - CSDN.NET_files/ga.js"></script><script src="./Qt国际化（源码含中文时）的点滴分析 - 1+1=2 - 博客频道 - CSDN.NET_files/jquery.js" type="text/javascript"></script>
<script src="./Qt国际化（源码含中文时）的点滴分析 - 1+1=2 - 博客频道 - CSDN.NET_files/plugins.js" type="text/javascript"></script>
<script src="./Qt国际化（源码含中文时）的点滴分析 - 1+1=2 - 博客频道 - CSDN.NET_files/common.js" type="text/javascript"></script>
<script type="text/javascript" src="./Qt国际化（源码含中文时）的点滴分析 - 1+1=2 - 博客频道 - CSDN.NET_files/ad.js"></script>
<link rel="Stylesheet" type="text/css" href="./Qt国际化（源码含中文时）的点滴分析 - 1+1=2 - 博客频道 - CSDN.NET_files/style.css">
<link id="RSSLink" title="RSS" type="application/rss+xml" rel="alternate" href="http://blog.csdn.net/dbzhang800/rss/list">
<link rel="shortcut icon" href="http://blog.csdn.net/favicon.ico">
<link type="text/css" rel="stylesheet" href="./Qt国际化（源码含中文时）的点滴分析 - 1+1=2 - 博客频道 - CSDN.NET_files/default.css">
<link type="text/css" rel="stylesheet" href="chrome-extension://cpngackimfmofbokmjmljamhdncknpmg/style.css"><script type="text/javascript" charset="utf-8" src="chrome-extension://cpngackimfmofbokmjmljamhdncknpmg/page_context.js"></script><style type="text/css">#yddContainer{display:block;font-family:Microsoft YaHei;position:relative;width:100%;height:100%;top:-4px;left:-4px;font-size:12px;border:1px solid}#yddTop{display:block;height:22px}#yddTopBorderlr{display:block;position:static;height:17px;padding:2px 28px;line-height:17px;font-size:12px;color:#5079bb;font-weight:bold;border-style:none solid;border-width:1px}#yddTopBorderlr .ydd-sp{position:absolute;top:2px;height:0;overflow:hidden}.ydd-icon{left:5px;width:17px;padding:0px 0px 0px 0px;padding-top:17px;background-position:-16px -44px}.ydd-close{right:5px;width:16px;padding-top:16px;background-position:left -44px}#yddKeyTitle{float:left;text-decoration:none}#yddMiddle{display:block;margin-bottom:10px}.ydd-tabs{display:block;margin:5px 0;padding:0 5px;height:18px;border-bottom:1px solid}.ydd-tab{display:block;float:left;height:18px;margin:0 5px -1px 0;padding:0 4px;line-height:18px;border:1px solid;border-bottom:none}.ydd-trans-container{display:block;line-height:160%}.ydd-trans-container a{text-decoration:none;}#yddBottom{position:absolute;bottom:0;left:0;width:100%;height:22px;line-height:22px;overflow:hidden;background-position:left -22px}.ydd-padding010{padding:0 10px}#yddWrapper{color:#252525;z-index:10001;background:url(chrome-extension://eopjamdnofihpioajgfdikhhbobonhbb/ab20.png);}#yddContainer{background:#fff;border-color:#4b7598}#yddTopBorderlr{border-color:#f0f8fc}#yddWrapper .ydd-sp{background-image:url(chrome-extension://eopjamdnofihpioajgfdikhhbobonhbb/ydd-sprite.png)}#yddWrapper a,#yddWrapper a:hover,#yddWrapper a:visited{color:#50799b}#yddWrapper .ydd-tabs{color:#959595}.ydd-tabs,.ydd-tab{background:#fff;border-color:#d5e7f3}#yddBottom{color:#363636}#yddWrapper{min-width:250px;max-width:400px;}</style></head>
<body screen_capture_injected="true">
<script src="./Qt国际化（源码含中文时）的点滴分析 - 1+1=2 - 博客频道 - CSDN.NET_files/pub_topnav_2011.js" type="text/javascript"></script><link rel="stylesheet" type="text/css" href="./Qt国际化（源码含中文时）的点滴分析 - 1+1=2 - 博客频道 - CSDN.NET_files/navtop_2012.css">
<div class="nav_top_2011">
<p><em>lilingshui</em><a href="http://my.csdn.net/my/notifications" class="notice_num" id="header_notice_num" target="_blank"></a>我的：<a href="http://my.csdn.net/my/letter" target="_blank">收件箱<span id="header_letter_num"></span></a><a href="http://download.csdn.net/my" class="red" target="_top">资源</a><a href="http://write.blog.csdn.net/" class="red" target="_top">博客</a><a href="http://my.csdn.net/" target="_top">空间</a><a href="https://passport.csdn.net/account/profile" target="_blank">设置</a>|<a href="https://passport.csdn.net/help/faq" target="_blank">帮助</a>|<a href="https://passport.csdn.net/account/logout" target="_top">退出</a></p><ul>
<li><a href="http://www.csdn.net/" target="_blank">首页</a></li>
<li><a href="http://news.csdn.net/" target="_blank">业界</a></li>
<li><a href="http://mobile.csdn.net/" target="_blank">移动</a></li>
<li><a href="http://cloud.csdn.net/" target="_blank">云计算</a></li>
<li><a href="http://sd.csdn.net/" target="_blank">研发</a></li>
<li><a href="http://bbs.csdn.net/" target="_blank">论坛</a></li>
<li><a href="http://blog.csdn.net/" target="_blank">博客</a></li>
<li><a href="http://download.csdn.net/" target="_blank">下载</a></li>
<li class="more"><h2 id="topnav_btnmore" onclick="showNavMore(this)"><a href="javascript:void(0);">更多</a></h2>
<div id="topnav_hidlist">
<iframe name="nav_frm" src="about:blank" width="92" height="178" scrolling="no" frameborder="no"></iframe>
</div>
</li>
</ul>
</div>


<div id="container">
<div id="header">
    <div class="header">
        <div id="blog_title">
            <h1><a href="http://blog.csdn.net/dbzhang800">1+1=2</a></h1>
            <h2>简简单单，我的小屋...</h2>
            <div class="clear"></div>
        </div>
        <div class="clear"></div>
    </div>
</div>
<div id="navigator">
    <div class="navigator_bg"></div>
    <div class="navigator">
        <ul>
            <li id="btnContents"><a href="http://blog.csdn.net/dbzhang800?viewmode=contents"><span><img src="./Qt国际化（源码含中文时）的点滴分析 - 1+1=2 - 博客频道 - CSDN.NET_files/ico_list.gif">目录视图</span></a></li>
            <li id="btnView"><a href="http://blog.csdn.net/dbzhang800?viewmode=list"><span><img src="./Qt国际化（源码含中文时）的点滴分析 - 1+1=2 - 博客频道 - CSDN.NET_files/ico_summary.gif">摘要视图</span></a></li>
            <li id="btnRss"><a href="http://blog.csdn.net/dbzhang800/rss/list"><span><img src="./Qt国际化（源码含中文时）的点滴分析 - 1+1=2 - 博客频道 - CSDN.NET_files/ico_rss.gif">订阅</span></a></li>
</ul>
    </div>
</div>
<script type="text/javascript">
    var username = "dbzhang800";
    var blog_address = "http://blog.csdn.net/dbzhang800";
    var static_host = "http://static.blog.csdn.net";
    var currentUserName = "lilingshui";
</script>
        
<div id="body">
<div id="main">
<div class="main">
<div class="notice"> 

<a href="http://blog.csdn.net/blogdevteam/article/details/8472541" target="_blank">
<font color="blue">
2013年1月当选微软MVP名单揭晓！   </font></a>



&nbsp;&nbsp;

<a href="http://blog.csdn.net/blogdevteam/article/details/8424675" target="_blank"><font color="red">CSDN博客频道年终送好礼获奖名单公布！</font></a>


<br>





<a href="http://vote.blog.csdn.net/details/blogstar" target="_blank">
<font color="red">2012CSDN博客之星火热出炉！ </font></a>

&nbsp;&nbsp;&nbsp;&nbsp;

<a href="http://blog.csdn.net/zhangoi391/article/details/8161343" target="_blank">
<font color="red">2000元大奖征异构开发博文  </font></a>

&nbsp;&nbsp;&nbsp;&nbsp;

<a href="http://blog.csdn.net/csdnstudent/article/details/8077932" target="_blank">
<font color="red">2013年全国百所高校巡讲讲师招募  </font></a>


</div><div id="article_details" class="details">
    <div class="article_title">
    <span class="ico ico_type_Original"></span>
    <h3>
        <span class="link_title"><a href="./Qt国际化（源码含中文时）的点滴分析 - 1+1=2 - 博客频道 - CSDN.NET_files/Qt国际化（源码含中文时）的点滴分析 - 1+1=2 - 博客频道 - CSDN.NET.html">
        Qt国际化（源码含中文时）的点滴分析
        </a></span>
    </h3>
</div>

        
    <div class="article_manage">
        <span class="link_categories">
        分类：
            <a href="http://blog.csdn.net/dbzhang800/article/category/759342">Qt</a> 
            <a href="http://blog.csdn.net/dbzhang800/article/category/759349">C/C++</a> 
        </span>
    <span class="link_postdate">2011-04-19 23:55</span>
    <span class="link_view" title="阅读次数">4192人阅读</span>
    <span class="link_comments" title="评论次数"><a href="http://blog.csdn.net/dbzhang800/article/details/6334852#comments">评论</a>(13)</span>
    <span class="link_collect"><a href="javascript:void(0);" onclick="javascript:collectArticle(&#39;Qt国际化（源码含中文时）的点滴分析&#39;,&#39;6334852&#39;);return false;" title="收藏">收藏</a></span>
    <span class="link_report"><a href="http://blog.csdn.net/dbzhang800/article/details/6334852#report" onclick="javascript:report(6334852,2);return false;" title="举报">举报</a></span>
    
</div>


    
<div style="clear:both"></div><div style="border:solid 1px #ccc; background:#eee; float:left; min-width:200px;padding:4px 10px;"><p style="text-align:right;margin:0;"><span style="float:left;">目录<a href="http://blog.csdn.net/dbzhang800/article/details/6334852#" title="系统根据文章中H1到H6标签自动生成文章目录">(?)</a></span><a href="http://blog.csdn.net/dbzhang800/article/details/6334852#" onclick="javascript:return openct(this);" title="展开">[+]</a></p><ol style="display:none;margin-left:14px;padding-left:14px;line-height:160%;"><li><a href="http://blog.csdn.net/dbzhang800/article/details/6334852#t0">例子</a></li><li><a href="http://blog.csdn.net/dbzhang800/article/details/6334852#t1">lupdate</a></li><ol><li><a href="http://blog.csdn.net/dbzhang800/article/details/6334852#t2">生成ts文件</a></li><li><a href="http://blog.csdn.net/dbzhang800/article/details/6334852#t3">乱码</a></li></ol><li><a href="http://blog.csdn.net/dbzhang800/article/details/6334852#t4">lrelease</a></li><ol><li><a href="http://blog.csdn.net/dbzhang800/article/details/6334852#t5">注意bug</a></li><li><a href="http://blog.csdn.net/dbzhang800/article/details/6334852#t6">如何避免</a></li></ol><li><a href="http://blog.csdn.net/dbzhang800/article/details/6334852#t7">lingiust</a></li><ol><li><a href="http://blog.csdn.net/dbzhang800/article/details/6334852#t8">原因</a></li><li><a href="http://blog.csdn.net/dbzhang800/article/details/6334852#t9">折中之道</a></li></ol><li><a href="http://blog.csdn.net/dbzhang800/article/details/6334852#t10">小结</a></li></ol></div><div style="clear:both"></div><div id="article_content" class="article_content">
<p><span class="Apple-style-span" style="border-collapse: separate; color: #000000; font-family: Arial,&#39;Lucida Grande&#39;,sans-serif; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px;">
</span>
</p>
<p class="line874">注意：本文不介绍如何使用Qt的国际化、本地化支持。本文针对的是偏底层的、Manual和其他资料中很少涉及的东西。所以，继续之前，请先确保：你已经对如何使用Qt的国际化比较熟悉了。</p>
<p class="line862">本文针对的是<span class="Apple-converted-space">&nbsp;</span>
<tt>tr("我是中文")</tt>
这种情况， 是<a style="color: #047307; border-width: 0px;" href="http://hi.baidu.com/cyclone/blog/item/aa56e5dd1a79f7e176c638be.html">Qt中translate、tr 与中文问题</a>
一文提到的 2b 问题的深入。</p>
<p class="line862"><img src="./Qt国际化（源码含中文时）的点滴分析 - 1+1=2 - 博客频道 - CSDN.NET_files/0_13032284375pVR.gif" alt="">
</p>
<h2 id="A.2BT4tbUA-" style="padding: 0px 0px 0.3em; border-bottom: 3px solid #047307;"><a name="t0"></a>例子</h2>
<p class="line862">首先，个人比较抵制源码中使用中文（当然也包括用tr扩住中文了）。但是如果非要用，也不是不可以。在<span class="Apple-converted-space">&nbsp;</span>
<a style="color: #047307; border-width: 0px;" href="http://hi.baidu.com/cyclone/blog/item/aa56e5dd1a79f7e176c638be.html">Qt中translate、tr 与中文问题</a>
一文中，我提到了这个问题。</p>
<p class="line874">废话少说，看个例子：</p>
<pre style="padding: 0.5em; font-family: courier,monospace; background-color: #f0ece6; white-space: pre-wrap; word-wrap: break-word; border: 1pt solid #c0c0c0;">#include &lt;QApplication&gt;
#include &lt;QPushButton&gt;
#include &lt;QTextCodec&gt;
#include &lt;QTranslator&gt;
int main(int argc, char *argv[])

{
    QApplication app(argc, argv);
#ifndef LOVE_GBK
    QTextCodec::setCodecForTr(QTextCodec::codecForName("utf-8"));
#else
    QTextCodec::setCodecForTr(QTextCodec::codecForName("GB2312"));
#endif
    QTranslator translator;
    translator.load("hellotr_en");
    app.installTranslator(&amp;translator);

    QPushButton hello(QPushButton::tr("你好!", "版权所有：Dbzhang800"));

    hello.show();
    return app.exec();
}</pre>
<p class="line874">大家应该都知道如何做了：</p>
<ul>
<li>
<p class="line862" style="margin: 0.25em 0px;">使用<strong>lupdate</strong>
生成 hellotr_en.ts 文件</p>
</li>
<li>
<p class="line862" style="margin: 0.25em 0px;">使用<strong>linguist</strong>
打开该文件进行翻译</p>
</li>
<li>
<p class="line862" style="margin: 0.25em 0px;">使用<strong>lrelease</strong>
(或通过linguist的菜单)将其转换成hellotr_en.qm文件</p>
</li>
</ul>
<p class="line874">三步走下来，结果正常，界面能显示翻译出来的问题。但是，翻译过程中有一点会很不爽：</p>
<ul>
<li>hellotr_en.ts 文件中，本该显示"你好!"的地方出现的是一堆乱码！</li>
<li>当然，使用linguist进行翻译时很难受，因为你不知道乱码处是什么东西</li>
</ul>
<p class="line874">为了解决这个问题，我们不妨从源头lupdate开始看看。</p>
<h2 id="lupdate" style="padding: 0px 0px 0.3em; border-bottom: 3px solid #047307;"><a name="t1"></a>lupdate</h2>
<p class="line867"><strong>作用：从源码文件中提取待翻译的字符串</strong>
</p>
<p class="line874">目前支持的源码文件的后缀：</p>
<pre style="padding: 0.5em; font-family: courier,monospace; background-color: #f0ece6; white-space: pre-wrap; word-wrap: break-word; border: 1pt solid #c0c0c0;">java,jui,ui,c,c++,cc,cpp,cxx,ch,h,h++,hh,hpp,hxx,js,qs,qml</pre>
<p class="line862">我们这儿只关心与C++有关的源码文件（QtJambi、QtScript、!Qt Quick相关的源码文件可能会有不同，我不能确定），能力和精力有限哈。</p>
<h3 id="A.2BdR9iEA.ts.2BZYdO9g-" style="padding: 0px 0px 0.3em; border-bottom: 3px solid #047307;"><a name="t2"></a>生成.ts文件</h3>
<p class="line874">要使用lupdate，细分一下，有两种方式：</p>
<ul>
<li>在 .pro 中指定要生成的ts文件：</li>
</ul>
<pre style="padding: 0.5em; font-family: courier,monospace; background-color: #f0ece6; white-space: pre-wrap; word-wrap: break-word; border: 1pt solid #c0c0c0;">TRANSLATIONS = hello_zh_CN.ts hello_zh_TW.ts</pre>
<ul>
<li>在命令行中指定要生成的ts文件（这时将忽略.pro内指定的文件）：</li>
</ul>
<pre style="padding: 0.5em; font-family: courier,monospace; background-color: #f0ece6; white-space: pre-wrap; word-wrap: break-word; border: 1pt solid #c0c0c0;">lupdate hello.pro -ts hello_zh_CN.ts hello_zh_TW.ts</pre>
<h3 id="A.2BTnF4Af8f-" style="padding: 0px 0px 0.3em; border-bottom: 3px solid #047307;"><a name="t3"></a>乱码？</h3>
<p class="line862">我们在<span class="Apple-converted-space">&nbsp;</span>
<a style="color: #047307; border-width: 0px;" href="http://hi.baidu.com/cyclone/blog/item/9d7293130e5a498d6538dbf1.html">QString 与中文问题</a>
一文中，已经充分见识了源码中包含非latin1字符时的编码问题。<span class="Apple-converted-space">&nbsp;</span>
lupdate 要从源码文件中提取中文字符串，但它无从知道那我们使用的utf-8，还是gbk，又或者是big5等等编码。所以，需要我们告诉它！</p>
<p class="line874">前面提到lupdate的两种用法，那么我们要分别通过两种方法告诉它我们的文件是何种编码：</p>
<ul>
<li>在 .pro 中指定要生成的ts文件时，在 .pro 文件内指定编码</li>
</ul>
<pre style="padding: 0.5em; font-family: courier,monospace; background-color: #f0ece6; white-space: pre-wrap; word-wrap: break-word; border: 1pt solid #c0c0c0;">CODECFORTR = utf-8 #or gbk
#DEFAULTCODEC = utf-8
#CODEC = utf-8</pre>
<p class="line874">注意，如果 CODECFORTR 没有定义，将找 DEFAULTCODEC，如果还没有定义，将找 CODEC。3个都没有定义的话，就采用latin1</p>
<ul>
<li>在 命令行指定 ts 文件时，需要在命令行指定编码</li>
</ul>
<pre style="padding: 0.5em; font-family: courier,monospace; background-color: #f0ece6; white-space: pre-wrap; word-wrap: break-word; border: 1pt solid #c0c0c0;">lupdate hello.pro -codecfortr utf-8 -ts hello_zh_CN.ts hello_zh_TW.ts</pre>
<ul>
<li style="list-style-type: none;">
<p class="line891" style="margin: 0.25em 0px;"><strong>万恶的MSVC?</strong>
</p>
</li>
</ul>
<ul>
<li style="list-style-type: none;">注意：如果你在使用msvc的编译器，除了前面提到的东西，你还需要知道一点:
<ul>
<li>如果你的源码文件是带BOM的utf8，utf16等编码格式，它会有转码的动作。</li>
<li>这样一来，tr()包住的字符串将转码成时GBK、BIG5等system编码，与源文件所用的编码不同。</li>
<li>所以，对此，我们还需要指定源文件的编码：</li>
</ul>
<pre style="padding: 0.5em; font-family: courier,monospace; background-color: #f0ece6; white-space: pre-wrap; word-wrap: break-word; border: 1pt solid #c0c0c0;">CODECFORTR = GB2312
CODECFORSRC = UTF-8</pre>
</li>
</ul>
<p class="line874">恩，编码设置挺顺利的，这样一来，lupdate根据指定的编码能识别我们的汉字，然后生成的.ts文件不再是乱码了，同时，它在.ts文件中记录下源码中窄字符串的编码</p>
<pre style="padding: 0.5em; font-family: courier,monospace; background-color: #f0ece6; white-space: pre-wrap; word-wrap: break-word; border: 1pt solid #c0c0c0;">&lt;defaultcodec&gt;GB2312&lt;/defaultcodec&gt;</pre>
<ul>
<li style="list-style-type: none;">
<p class="line891" style="margin: 0.25em 0px;"><strong>注意</strong>
：lupdate 存在一些bug，你如此操作之后，程序运行时可能会无法加载翻译的内容！！我们稍后介绍。</p>
</li>
</ul>
<h2 id="lrelease" style="padding: 0px 0px 0.3em; border-bottom: 3px solid #047307;"><a name="t4"></a>lrelease</h2>
<p class="line874">lrelease 是 Linguist 工具链的一部分，可作为独立程序使用。它将 .ts 文件转换成压缩的 .qm 文件，供 QTranslator 使用。</p>
<ul>
<li>读入.ts 文件(.ts文件是包含编码信息的xml文件，不存在乱码的基础)</li>
<li>
<p class="line862" style="margin: 0.25em 0px;">将读入的字符串<strong>编码</strong>
后按某种格式存储后 .qm 文件中</p>
<ul>
<li>默认情况下，采用latin1编码</li>
<li>对于.ts文件中包括defaultcodec的，采用该编码</li>
</ul>
</li>
</ul>
<p class="line874">对应于前面 lupdate 的用法，lrelease也有两种用法</p>
<ul>
<li>pro 文件内指定了 ts 文件</li>
</ul>
<pre style="padding: 0.5em; font-family: courier,monospace; background-color: #f0ece6; white-space: pre-wrap; word-wrap: break-word; border: 1pt solid #c0c0c0;">lrelease  project.pro</pre>
<ul>
<li>通过命令行指定 ts 文件</li>
</ul>
<pre style="padding: 0.5em; font-family: courier,monospace; background-color: #f0ece6; white-space: pre-wrap; word-wrap: break-word; border: 1pt solid #c0c0c0;">lrelease ts-files [-qm qm-file]</pre>
<h3 id="A.2BbOhhDw-bug.2B.2FwE-" style="padding: 0px 0px 0.3em; border-bottom: 3px solid #047307;"><a name="t5"></a>注意bug！</h3>
<p class="line874">我们刚才提到 .ts 到 .qm 的过程，存在一个编码的过程。具体到我们前面提到的GB2312，意味着lrelease需要使用Qt的插件(比如qcncodecs4.dll)。</p>
<p class="line874">但很不幸，当前版本(Qt4.7)的lrelease存在bug。</p>
<ul>
<li style="list-style-type: none;">我不知道Qt在搞什么飞机，它程序中没有使用QCoreApplication(反而做了很多其他的工作)，结果导致无法加载插件。这样一来，QString 中存放的unicode字符串将强制转成latin1（信息丢失！）</li>
</ul>
<p class="line874">注意：如果你使用的utf-8编码，则不存在这个问题。因为utf-8不需要插件。</p>
<h3 id="A.2BWYJPVZB.2FUU3.2FHw-" style="padding: 0px 0px 0.3em; border-bottom: 3px solid #047307;"><a name="t6"></a>如何避免？</h3>
<p class="line874">尝试阅读lrelease的源码，因为功底太差，最终放弃。所以我也无法提供补丁，只告诉大家一个折中的方法:</p>
<p class="line862">如果你在简体中文的windows系统中使用gb2312，那么在指定编码是，<strong>直接指定SYSTEM而不要指定GB2312</strong>
，这样一来，可以避免使用codecs插件。</p>
<p class="line874">这样的话，.ts中的字符串将会在不借助codecs插件的情况下被lrelease成功地被转码成gb2312。我们的程序此时又可以成功加载翻译了。鼓掌！呵呵</p>
<h2 id="lingiust" style="padding: 0px 0px 0.3em; border-bottom: 3px solid #047307;"><a name="t7"></a>lingiust</h2>
<ul>
<li>通过设置字符集，我们在lingiust中进行翻译时，已经可以正常看到汉字了
<ul>
<li>因为它是从.ts文件加载的，xml格式的.ts文件是不存在乱码基础的</li>
</ul>
</li>
<li>但是一点例外：就是 lingiust 显示源码的窗口(Sources and Forms)中，汉字依然是乱码</li>
</ul>
<h3 id="A.2BU59W4P8f-" style="padding: 0px 0px 0.3em; border-bottom: 3px solid #047307;"><a name="t8"></a>原因？</h3>
<p class="line874">个人认为这应当是lingiust的一个bug。</p>
<ul>
<li>因为它显示源码时，简单粗暴，直接按照latin1进行读入的</li>
<li>实际上，.ts 文件中已经包含 defaultcodec 信息了，但是它却没有使用。</li>
</ul>
<p class="line874">怎么办？我想应该这样来做(其实lupdate也应该这样来做的，如果这样做了，就不用对MSVC的情况单独设置一个source编码了)。</p>
<ul>
<li>如果源码文件包含BOM信息，则直接按照BOM提供的编码信息读入源文件。</li>
<li>如果不包含BOM，则按照.ts文件指定的编码读入读入源文件</li>
</ul>
<h3 id="A.2BYphOLU5LkFM-" style="padding: 0px 0px 0.3em; border-bottom: 3px solid #047307;"><a name="t9"></a>折中之道</h3>
<p class="line874">如果你只是想让lingiust能正确显示编码，那么你只需要找到：</p>
<ul>
<li>
<p class="line862" style="margin: 0.25em 0px;">文件<tt>%QTDIR%/tools/linguist/linguist/sourcecodeview.cpp</tt>
</p>
</li>
</ul>
<p class="line874">找到：</p>
<pre style="padding: 0.5em; font-family: courier,monospace; background-color: #f0ece6; white-space: pre-wrap; word-wrap: break-word; border: 1pt solid #c0c0c0;">void SourceCodeView::showSourceCode(const QString &amp;absFileName, const int lineNum)
{
...
fileText = QString::fromLatin1(file.readAll());
...
}</pre>
<p class="line874">改为</p>
<pre style="padding: 0.5em; font-family: courier,monospace; background-color: #f0ece6; white-space: pre-wrap; word-wrap: break-word; border: 1pt solid #c0c0c0;">QString::fromLocal8Bit</pre>
<p class="line874">重新编译一下lingiust即可。</p>
<p class="line874">至此，我们的任务完成！</p>
<h2 id="A.2BXA9.2B0w-" style="padding: 0px 0px 0.3em; border-bottom: 3px solid #047307;"><a name="t10"></a>小结</h2>
<p class="line874">总结一下：</p>
<ul>
<li>
<p class="line862" style="margin: 0.25em 0px;">运行lupdate从源码中提取待翻译字符串，需要指定<strong>待翻译串的编码</strong>
（注意msvc对带BOM文件的处理）</p>
</li>
<li>运行linguist进行翻译(如果让源码窗口显示也正常，需修改至少一行代码)</li>
<li>运行lrelease将.ts编程qm文件，这时对gb2312的处理存在问题，我们采取一个补救措施</li>
</ul>
<p>&nbsp;</p>
</div>
<div class="share_buttons" id="sharePanel"><span>分享到：</span> <a name="sina" class="share_sina" title="分享到新浪微博"></a><a name="qq" class="share_qq" title="分享到腾讯微博"></a></div>
<!--192.168.1.236-->
<div class="article_next_prev">
    <li class="prev_article"><span>上一篇：</span><a href="http://blog.csdn.net/dbzhang800/article/details/6330106">阅读 apiextractor 的CMakeList.txt文件</a></li>
    <li class="next_article"><span>下一篇：</span><a href="http://blog.csdn.net/dbzhang800/article/details/6335818">QFtp 与中文问题</a></li>
</div>


    
</div>
<div id="ad_cen"><iframe id="ad_frm_0" frameborder="0" scrolling="no" style="border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; overflow-x: hidden; overflow-y: hidden; width: 732px; height: 94px; " src="./Qt国际化（源码含中文时）的点滴分析 - 1+1=2 - 博客频道 - CSDN.NET_files/ad.html"></iframe></div>
<script type="text/javascript">
    new Ad(4, 'ad_cen');
</script>
<div id="comment_title" class="panel_head">查看评论<a name="comments"></a></div>
<div id="comment_list"><dl class="comment_item comment_topic" id="comment_item_2484728"><dt class="comment_head" floor="12">12楼 <span class="user"><a class="username" href="http://blog.csdn.net/xieyuehaI_02" target="_blank">xieyuehaI_02</a> <span class="ptime">2012-12-28 09:16发表</span>  <a href="http://blog.csdn.net/dbzhang800/article/details/6334852#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="2484728" username="xieyuehaI_02"> <a href="http://blog.csdn.net/dbzhang800/article/details/6334852#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/dbzhang800/article/details/6334852#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/xieyuehaI_02" target="_blank"><img src="./Qt国际化（源码含中文时）的点滴分析 - 1+1=2 - 博客频道 - CSDN.NET_files/3_xieyuehai_02.jpg" width="40" height="40"></a></dd><dd class="comment_body">您好，请问编译linguist时出现下面的问题应该如何解决呢？error: cannot find -lbootstrap<br>error: collect2: ld returned 1 exit status<br>还有我按上面的方法做了但中文的还是显示中文（这应该跟linguist那里修不修改没有关系吧），英文翻译中文的就可以实现了！</dd></dl><dl class="comment_item comment_topic" id="comment_item_2194860"><dt class="comment_head" floor="11">11楼 <span class="user"><a class="username" href="http://blog.csdn.net/lpp1989" target="_blank">lpp1989</a> <span class="ptime">2012-04-25 13:51发表</span>  <a href="http://blog.csdn.net/dbzhang800/article/details/6334852#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="2194860" username="lpp1989"> <a href="http://blog.csdn.net/dbzhang800/article/details/6334852#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/dbzhang800/article/details/6334852#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/lpp1989" target="_blank"><img src="./Qt国际化（源码含中文时）的点滴分析 - 1+1=2 - 博客频道 - CSDN.NET_files/3_lpp1989.jpg" width="40" height="40"></a></dd><dd class="comment_body">有点清楚了，还是很有收获的。谢谢！</dd></dl><dl class="comment_item comment_topic" id="comment_item_2148284"><dt class="comment_head" floor="10">10楼 <span class="user"><a class="username" href="http://blog.csdn.net/wangrunmin" target="_blank">wangrunmin</a> <span class="ptime">2012-03-29 20:11发表</span>  <a href="http://blog.csdn.net/dbzhang800/article/details/6334852#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="2148284" username="wangrunmin"> <a href="http://blog.csdn.net/dbzhang800/article/details/6334852#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/dbzhang800/article/details/6334852#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/wangrunmin" target="_blank"><img src="./Qt国际化（源码含中文时）的点滴分析 - 1+1=2 - 博客频道 - CSDN.NET_files/3_wangrunmin.jpg" width="40" height="40"></a></dd><dd class="comment_body">#ifndef LOVE_GBK中的LOVE_GBK指的什么？</dd><dl class="comment_item comment_reply" id="comment_item_2148889"><dt class="comment_head" floor="10">Re: <span class="user"><a class="username" href="http://blog.csdn.net/dbzhang800" target="_blank">dbzhang800</a> <span class="ptime">2012-03-30 11:21发表</span>  <a href="http://blog.csdn.net/dbzhang800/article/details/6334852#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="2148889" username="dbzhang800"> <a href="http://blog.csdn.net/dbzhang800/article/details/6334852#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/dbzhang800/article/details/6334852#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/dbzhang800" target="_blank"><img src="./Qt国际化（源码含中文时）的点滴分析 - 1+1=2 - 博客频道 - CSDN.NET_files/3_dbzhang800.jpg" width="40" height="40"></a></dd><dd class="comment_body">回复wangrunmin：其实没有任何所指，只是提示一下有两种情况。当然也可以在代码中用这种宏，比如，在你的pro文件内<br><br>DEFINES += LOVE_GBK</dd></dl></dl><dl class="comment_item comment_topic" id="comment_item_2093024"><dt class="comment_head" floor="9">9楼 <span class="user"><a class="username" href="http://blog.csdn.net/chu_qun" target="_blank">chu_qun</a> <span class="ptime">2012-02-07 11:36发表</span>  <a href="http://blog.csdn.net/dbzhang800/article/details/6334852#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="2093024" username="chu_qun"> <a href="http://blog.csdn.net/dbzhang800/article/details/6334852#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/dbzhang800/article/details/6334852#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/chu_qun" target="_blank"><img src="./Qt国际化（源码含中文时）的点滴分析 - 1+1=2 - 博客频道 - CSDN.NET_files/3_chu_qun.jpg" width="40" height="40"></a></dd><dd class="comment_body">有深度的文章</dd></dl><dl class="comment_item comment_topic" id="comment_item_2079265"><dt class="comment_head" floor="8">8楼 <span class="user"><a class="username" href="http://blog.csdn.net/chu_qun" target="_blank">chu_qun</a> <span class="ptime">2012-01-12 15:43发表</span>  <a href="http://blog.csdn.net/dbzhang800/article/details/6334852#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="2079265" username="chu_qun"> <a href="http://blog.csdn.net/dbzhang800/article/details/6334852#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/dbzhang800/article/details/6334852#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/chu_qun" target="_blank"><img src="./Qt国际化（源码含中文时）的点滴分析 - 1+1=2 - 博客频道 - CSDN.NET_files/3_chu_qun.jpg" width="40" height="40"></a></dd><dd class="comment_body">高手，受教了</dd></dl><dl class="comment_item comment_topic" id="comment_item_2034115"><dt class="comment_head" floor="7">7楼 <span class="user"><a class="username" href="http://blog.csdn.net/jacky1982_2008" target="_blank">jacky1982_2008</a> <span class="ptime">2011-11-29 14:45发表</span>  <a href="http://blog.csdn.net/dbzhang800/article/details/6334852#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="2034115" username="jacky1982_2008"> <a href="http://blog.csdn.net/dbzhang800/article/details/6334852#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/dbzhang800/article/details/6334852#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/jacky1982_2008" target="_blank"><img src="./Qt国际化（源码含中文时）的点滴分析 - 1+1=2 - 博客频道 - CSDN.NET_files/3_jacky1982_2008.jpg" width="40" height="40"></a></dd><dd class="comment_body">请问cpp文件里的翻译已经没有问题了，但.h里的中文在lupdate之后总是乱码，这是什么原因啊？</dd></dl><dl class="comment_item comment_topic" id="comment_item_1933392"><dt class="comment_head" floor="6">6楼 <span class="user"><a class="username" href="http://blog.csdn.net/IT_HY" target="_blank">IT_HY</a> <span class="ptime">2011-08-27 17:10发表</span>  <a href="http://blog.csdn.net/dbzhang800/article/details/6334852#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="1933392" username="IT_HY"> <a href="http://blog.csdn.net/dbzhang800/article/details/6334852#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/dbzhang800/article/details/6334852#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/IT_HY" target="_blank"><img src="./Qt国际化（源码含中文时）的点滴分析 - 1+1=2 - 博客频道 - CSDN.NET_files/3_it_hy.jpg" width="40" height="40"></a></dd><dd class="comment_body">长见识了~~~</dd></dl><dl class="comment_item comment_topic" id="comment_item_1876320"><dt class="comment_head" floor="5">5楼 <span class="user"><a class="username" href="http://blog.csdn.net/z373375579" target="_blank">心死</a> <span class="ptime">2011-08-15 17:15发表</span>  <a href="http://blog.csdn.net/dbzhang800/article/details/6334852#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="1876320" username="z373375579"> <a href="http://blog.csdn.net/dbzhang800/article/details/6334852#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/dbzhang800/article/details/6334852#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/z373375579" target="_blank"><img src="./Qt国际化（源码含中文时）的点滴分析 - 1+1=2 - 博客频道 - CSDN.NET_files/3_z373375579.jpg" width="40" height="40"></a></dd><dd class="comment_body">恩哦谢啦。我再研究下 刚参加工作 现在这个项目他们直接源代码里写的都是中文 我翻译 也没办法 郁闷。</dd></dl><dl class="comment_item comment_topic" id="comment_item_1876272"><dt class="comment_head" floor="4">4楼 <span class="user"><a class="username" href="http://blog.csdn.net/dbzhang800" target="_blank">dbzhang800</a> <span class="ptime">2011-08-15 16:44发表</span>  <a href="http://blog.csdn.net/dbzhang800/article/details/6334852#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="1876272" username="dbzhang800"> <a href="http://blog.csdn.net/dbzhang800/article/details/6334852#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/dbzhang800/article/details/6334852#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/dbzhang800" target="_blank"><img src="./Qt国际化（源码含中文时）的点滴分析 - 1+1=2 - 博客频道 - CSDN.NET_files/3_dbzhang800.jpg" width="40" height="40"></a></dd><dd class="comment_body"><fieldset><legend>引用“z373375579”的评论：</legend>麻烦请问下，我想把中文翻译成英文，我在.pro里添加TRANSLATIONS = en.ts<br>COD...</fieldset>我不清楚你的状况，如果刚开始使用Qt的国际化，建议先弄熟 英文翻译中文的情况，确保没问题以后，再尝试中文翻译英文。</dd></dl><dl class="comment_item comment_topic" id="comment_item_1876126"><dt class="comment_head" floor="3">3楼 <span class="user"><a class="username" href="http://blog.csdn.net/z373375579" target="_blank">心死</a> <span class="ptime">2011-08-15 15:31发表</span>  <a href="http://blog.csdn.net/dbzhang800/article/details/6334852#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="1876126" username="z373375579"> <a href="http://blog.csdn.net/dbzhang800/article/details/6334852#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/dbzhang800/article/details/6334852#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/z373375579" target="_blank"><img src="./Qt国际化（源码含中文时）的点滴分析 - 1+1=2 - 博客频道 - CSDN.NET_files/3_z373375579.jpg" width="40" height="40"></a></dd><dd class="comment_body">麻烦请问下，我想把中文翻译成英文，我在.pro里添加TRANSLATIONS = en.ts<br>CODECFORTR = utf-8 <br>#DEFAULTCODEC = utf-8<br>#CODEC = utf-8后然后用lingiust翻译了，也生成了qm文件，可是重新编译还是显示的中文，请问哪里出错了 是不是main文件还要改什么啊。linux下的</dd></dl><dl class="comment_item comment_topic" id="comment_item_1803317"><dt class="comment_head" floor="2">2楼 <span class="user"><a class="username" href="http://blog.csdn.net/DMoon_s" target="_blank">DMoon_s</a> <span class="ptime">2011-06-21 16:38发表</span>  <a href="http://blog.csdn.net/dbzhang800/article/details/6334852#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="1803317" username="DMoon_s"> <a href="http://blog.csdn.net/dbzhang800/article/details/6334852#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/dbzhang800/article/details/6334852#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/DMoon_s" target="_blank"><img src="./Qt国际化（源码含中文时）的点滴分析 - 1+1=2 - 博客频道 - CSDN.NET_files/3_dmoon_s.jpg" width="40" height="40"></a></dd><dd class="comment_body">zhang老师笔误 linguist-&amp;gt;lingiust</dd></dl><dl class="comment_item comment_topic" id="comment_item_1663326"><dt class="comment_head" floor="1">1楼 <span class="user"><a class="username" href="http://blog.csdn.net/many_many" target="_blank">many_many</a> <span class="ptime">2011-05-06 17:22发表</span>  <a href="http://blog.csdn.net/dbzhang800/article/details/6334852#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="1663326" username="many_many"> <a href="http://blog.csdn.net/dbzhang800/article/details/6334852#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/dbzhang800/article/details/6334852#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/many_many" target="_blank"><img src="./Qt国际化（源码含中文时）的点滴分析 - 1+1=2 - 博客频道 - CSDN.NET_files/3_many_many.jpg" width="40" height="40"></a></dd><dd class="comment_body">[e01]</dd></dl><div class="clear"></div></div>
<div id="comment_bar" style="display: none; "></div>
<div id="comment_form"><a name="commentbox"></a><a name="reply"></a><a name="quote"></a><form action="http://blog.csdn.net/dbzhang800/comment/submit?id=6334852" method="post"><div class="commentform"><div class="panel_head">发表评论</div><ul><li class="left">用 户 名：</li><li class="right">lilingshui</li></ul><ul><li class="left">评论内容：</li><li class="right" style="position:relative;"><div id="ubbtools"><a href="http://blog.csdn.net/dbzhang800/article/details/6334852#insertcode" code="code"><img src="./Qt国际化（源码含中文时）的点滴分析 - 1+1=2 - 博客频道 - CSDN.NET_files/code.gif" border="0" alt="插入代码" title="插入代码"></a></div><div id="lang_list" style="display:none; position:absolute;top:25px; left:0px;"><a href="http://blog.csdn.net/dbzhang800/article/details/6334852#html">HTML/XML</a><a href="http://blog.csdn.net/dbzhang800/article/details/6334852#javascript">JavaScript</a><a href="http://blog.csdn.net/dbzhang800/article/details/6334852#css">CSS</a><a href="http://blog.csdn.net/dbzhang800/article/details/6334852#php">PHP</a><a href="http://blog.csdn.net/dbzhang800/article/details/6334852#csharp">C#</a><a href="http://blog.csdn.net/dbzhang800/article/details/6334852#cpp">C++</a><a href="http://blog.csdn.net/dbzhang800/article/details/6334852#java">Java</a><a href="http://blog.csdn.net/dbzhang800/article/details/6334852#python">Python</a><a href="http://blog.csdn.net/dbzhang800/article/details/6334852#ruby">Ruby</a><a href="http://blog.csdn.net/dbzhang800/article/details/6334852#vb">Visual Basic</a><a href="http://blog.csdn.net/dbzhang800/article/details/6334852#delphi">Delphi</a><a href="http://blog.csdn.net/dbzhang800/article/details/6334852#sql">SQL</a><a href="http://blog.csdn.net/dbzhang800/article/details/6334852#plain">其它</a></div><textarea class="comment_content" name="comment_content" id="comment_content" style="width: 400px; height: 200px;"></textarea></li></ul><ul><input type="hidden" id="comment_replyId" name="comment_replyId"><input type="hidden" id="comment_userId" name="comment_userId" value="521203"><input type="hidden" id="commentId" name="commentId" value=""><input type="submit" class="comment_btn" value="提交">&nbsp;&nbsp;<span id="tip_comment" style="color: Red; display: none;"></span></ul></div></form></div>
<div class="announce">* 以上用户言论只代表其个人观点，不代表CSDN网站的观点或立场<a name="reply"></a><a name="quote"></a></div>
<script type="text/javascript">
    var fileName = '6334852';
    var commentscount = 13;
    var islock = false
</script>
<script type="text/javascript" src="./Qt国际化（源码含中文时）的点滴分析 - 1+1=2 - 博客频道 - CSDN.NET_files/comment.js"></script>
<div id="ad_bot"><iframe id="ad_frm_1" frameborder="0" scrolling="no" style="border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; overflow-x: hidden; overflow-y: hidden; width: 732px; height: 170px; " src="./Qt国际化（源码含中文时）的点滴分析 - 1+1=2 - 博客频道 - CSDN.NET_files/ad(1).html"></iframe></div>
<script type="text/javascript">
    new Ad(5, 'ad_bot');
</script>
<div id="report_dialog"></div>

<div id="d-top">
<a href="http://blog.csdn.net/dbzhang800/article/details/6334852#" onclick="javascript:document.body.scrollTop=0;document.documentElement.scrollTop=0;this.blur();return false;" title="回到顶部">
<img src="./Qt国际化（源码含中文时）的点滴分析 - 1+1=2 - 博客频道 - CSDN.NET_files/top.png" alt="TOP"></a>
</div>



<div class="clear"></div>
</div>
</div>

<div id="side">
<div class="side">
<div id="panel_Profile" class="panel">
    <ul class="panel_head"><span>个人资料</span></ul>
    <ul class="panel_body profile">
        <div id="blog_userface">
            <a href="http://my.csdn.net/dbzhang800" target="_blank">
            <img src="./Qt国际化（源码含中文时）的点滴分析 - 1+1=2 - 博客频道 - CSDN.NET_files/1_dbzhang800.jpg" title="访问我的空间" style="max-width:90%">
            </a>
            <br>
            <span><a href="http://my.csdn.net/dbzhang800" class="user_name" target="_blank">dbzhang800</a></span>
        </div>
<div class="interact">
<!--<a href="#" class="attented" title="已关注"></a>-->
<a href="http://blog.csdn.net/dbzhang800/article/details/6334852#" class="attent" id="span_add_follow" title="[加关注]"></a>
<a href="http://my.csdn.net/my/letter/send/dbzhang800" class="letter" title="[发私信]"></a>
</div>
        <div id="blog_medal">
        <div id="bms_box"><a href="http://medal.blog.csdn.net/allmedal.aspx" target="_blank"><img src="./Qt国际化（源码含中文时）的点滴分析 - 1+1=2 - 博客频道 - CSDN.NET_files/holdon_s2.gif" onmouseover="m_over_m(this,0)" onmouseout="m_out_m()" alt=""></a></div></div>
        <ul id="blog_rank">
            <li>访问：<span>441039次</span></li>
            <li>积分：<span>6825分</span></li>
            <li>排名：<span>第446名</span></li>
        </ul>
        <ul id="blog_statistics">
            <li>原创：<span>180篇</span></li>
            <li>转载：<span>0篇</span></li>
            <li>译文：<span>8篇</span></li>
            <li>评论：<span>658条</span></li>
        </ul>
    </ul>
</div>
<script type="text/javascript">
    var _blogger = 'dbzhang800';
</script>
<script type="text/javascript">
$(document).ready(function () {
    var un = getUN().toLowerCase();
    if (un == _blogger.toLowerCase()) {
        $('.interact').hide();
    } else if(un) {
        var url = "http://my.csdn.net/index.php/follow/check_is_followed/" + encodeURIComponent(un) + "/" + encodeURIComponent(_blogger) + "?jsonpcallback=?";
        $.getJSON(url, {}, function (data) {
            if (data.succ == 1 && data.info == 1) {
                $('#span_add_follow').attr('class', 'attented');
            } else {
                $('#span_add_follow').click(guanzhu);
            }
        }, 'json');
    }
});
function guanzhu() {
    var url = "http://my.csdn.net/index.php/follow/do_follow?jsonpcallback=?";
    $.getJSON(url, { "username": _blogger }, function (data) {
        if (data.succ == 1) {
            alert('关注成功！');
            $('#span_add_follow').attr('class', 'attented').click(function () { return false; });
        } else {
            alert(data.msg);
        }
    });
    return false;
}
function getUN() {
    var m = document.cookie.match(new RegExp("(^| )UserName=([^;]*)(;|$)"));
    if (m) return m[2];
    else return '';
}
</script>

<div id="custom_column_8627456" class="panel">
    <ul class="panel_head"><span>公告</span></ul>
    <ul class="panel_body">
        
<p>本blog在IE浏览器下可能会格式错乱，请考虑<font color="blue">非IE内核</font>浏览器。</p>
<p>在多篇blog中，<font color="red">反斜杠\</font>被CSDN自动替换成了<font color="red">斜杠/</font>，请注意识别，谢谢。
</p>
<p><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/2.5/cn/"><img alt="知识共享许可协议" src="./Qt国际化（源码含中文时）的点滴分析 - 1+1=2 - 博客频道 - CSDN.NET_files/519051_131833564508ZW.png" style="border-width:0"></a><br>
本Blog中所有作品(文中额外注明版权的除外)均采用<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/2.5/cn/">知识共享署名-非商业性使用-相同方式共享 2.5</a>进行许可。
</p>

    </ul>
</div><div class="panel" id="panel_Search">
    <ul class="panel_head"><span>文章搜索</span></ul>
    <ul class="panel_body">
        <form id="frmSearch" action="http://so.csdn.net/search" class="form_search" target="_blank">
        <span><input id="inputSearch" type="text" class="blogsearch" title="请输入关键字"></span>
        <input id="btnSubmit" type="submit" value="搜索" title="search in blog">
        <input type="hidden" name="q" id="inputQ">
        <input type="hidden" name="t" value="blog">
        <a id="btnSearchBlog" target="_blank"></a>
        </form>
    </ul>
</div><div id="panel_Category" class="panel">
    <ul class="panel_head"><span>文章分类</span></ul>
    <ul class="panel_body">
        <li>
        <a href="http://blog.csdn.net/dbzhang800/article/category/759349">C/C++</a><span>(53)</span>
        </li>
        <li>
        <a href="http://blog.csdn.net/dbzhang800/article/category/759347">PyQt4/PySide</a><span>(13)</span>
        </li>
        <li>
        <a href="http://blog.csdn.net/dbzhang800/article/category/759348">Python</a><span>(22)</span>
        </li>
        <li>
        <a href="http://blog.csdn.net/dbzhang800/article/category/759342">Qt</a><span>(121)</span>
        </li>
        <li>
        <a href="http://blog.csdn.net/dbzhang800/article/category/821916">QTBUG</a><span>(12)</span>
        </li>
        <li>
        <a href="http://blog.csdn.net/dbzhang800/article/category/807954">tools</a><span>(33)</span>
        </li>
        <li>
        <a href="http://blog.csdn.net/dbzhang800/article/category/865869">Python源码学习</a><span>(11)</span>
        </li>
        <li>
        <a href="http://blog.csdn.net/dbzhang800/article/category/866220">C++0x</a><span>(5)</span>
        </li>
        <li>
        <a href="http://blog.csdn.net/dbzhang800/article/category/866307">Qt5</a><span>(16)</span>
        </li>
        <li>
        <a href="http://blog.csdn.net/dbzhang800/article/category/890158">Python Issue</a><span>(1)</span>
        </li>
        <li>
        <a href="http://blog.csdn.net/dbzhang800/article/category/892402">git</a><span>(5)</span>
        </li>
        <li>
        <a href="http://blog.csdn.net/dbzhang800/article/category/894128">cmake/qmake</a><span>(17)</span>
        </li>
        <li>
        <a href="http://blog.csdn.net/dbzhang800/article/category/894136">QWidget漫谈</a><span>(13)</span>
        </li>
        <li>
        <a href="http://blog.csdn.net/dbzhang800/article/category/894787">latex</a><span>(1)</span>
        </li>
        <li>
        <a href="http://blog.csdn.net/dbzhang800/article/category/901594">javascript</a><span>(3)</span>
        </li>
        <li>
        <a href="http://blog.csdn.net/dbzhang800/article/category/916546">Log4Qt</a><span>(3)</span>
        </li>
        <li>
        <a href="http://blog.csdn.net/dbzhang800/article/category/916973">linux</a><span>(4)</span>
        </li>
        <li>
        <a href="http://blog.csdn.net/dbzhang800/article/category/1064697">C#/.NET</a><span>(9)</span>
        </li>
    </ul>
</div><div id="custom_column_1531029" class="panel">
    <ul class="panel_head"><span>Qt 博客链接</span></ul>
    <ul class="panel_body">
        <ul>
<li><a href="http://www.qiliang.net/blog/" target="_blank">
齐亮的博客
</a></li>
<li><a href="http://hi.baidu.com/xchinux" target="_blank">
白建平的博客
</a></li>
<li><a href="http://www.cuteqt.com/blog/?author=4" target="_blank">
白净的博客
</a></li>
<li><a href="http://blog.csdn.net/qter_wd007" target="_blank">
吴迪的博客
</a></li>
<li><a href="http://dbzhang800.blogspot.com/" target="_blank">
我的blogspot
</a></li>
<li><a href="http://hi.baidu.com/cyclone" target="_blank">
我的百度博客
</a></li>
</ul>
    </ul>
</div><div id="panel_Archive" class="panel">
    <ul class="panel_head"><span>文章存档</span></ul>
    <ul class="panel_body">
        <div id="archive_list"><li><a href="http://blog.csdn.net/dbzhang800/article/month/2012/11">2012年11月</a><span>(1)</span></li><li><a href="http://blog.csdn.net/dbzhang800/article/month/2012/05">2012年05月</a><span>(2)</span></li><li><a href="http://blog.csdn.net/dbzhang800/article/month/2012/04">2012年04月</a><span>(1)</span></li><li><a href="http://blog.csdn.net/dbzhang800/article/month/2012/03">2012年03月</a><span>(4)</span></li><li><a href="http://blog.csdn.net/dbzhang800/article/month/2012/02">2012年02月</a><span>(1)</span></li><span class="hidelist" style="display:none;"><li><a href="http://blog.csdn.net/dbzhang800/article/month/2012/01">2012年01月</a><span>(9)</span></li><li><a href="http://blog.csdn.net/dbzhang800/article/month/2011/12">2011年12月</a><span>(4)</span></li><li><a href="http://blog.csdn.net/dbzhang800/article/month/2011/11">2011年11月</a><span>(13)</span></li><li><a href="http://blog.csdn.net/dbzhang800/article/month/2011/10">2011年10月</a><span>(23)</span></li><li><a href="http://blog.csdn.net/dbzhang800/article/month/2011/09">2011年09月</a><span>(24)</span></li><li><a href="http://blog.csdn.net/dbzhang800/article/month/2011/08">2011年08月</a><span>(31)</span></li><li><a href="http://blog.csdn.net/dbzhang800/article/month/2011/07">2011年07月</a><span>(9)</span></li><li><a href="http://blog.csdn.net/dbzhang800/article/month/2011/06">2011年06月</a><span>(15)</span></li><li><a href="http://blog.csdn.net/dbzhang800/article/month/2011/05">2011年05月</a><span>(23)</span></li><li><a href="http://blog.csdn.net/dbzhang800/article/month/2011/04">2011年04月</a><span>(28)</span></li></span><div id="archive_list_button" class="list_closed">展开</div></div>
    </ul>
</div>
<div id="newcomments" class="panel">
<ul class="panel_head"><span>最新评论</span></ul>
<ul class="panel_body itemlist">
    <li>
    <a href="http://blog.csdn.net/dbzhang800/article/details/6397483#comments">使用Shiboken为C++和Qt库创建Python绑定</a>
    <p style="margin:0px;"><a href="http://blog.csdn.net/zhongzhu2002" class="user_name">zhongzhu2002</a>:
你提到"注意：若在windows下，Shiboken和PySide开发环境需要自己编译"请问: Py...
    </p>
    </li>
    <li>
    <a href="http://blog.csdn.net/dbzhang800/article/details/6314073#comments">cmake 学习笔记(一)</a>
    <p style="margin:0px;"><a href="http://blog.csdn.net/zhongzhu2002" class="user_name">zhongzhu2002</a>:
看你的文章真是一种享受，太适合我们这些初学者了。
    </p>
    </li>
    <li>
    <a href="http://blog.csdn.net/dbzhang800/article/details/6376422#comments">用ISO C++实现自己的信号槽(Qt另类学习)</a>
    <p style="margin:0px;"><a href="http://blog.csdn.net/hcaihao" class="user_name">hcaihao</a>:
@dbzhang800:对了，Boost也有自己的信号和槽，基于那个开发也是个不错的起点。
    </p>
    </li>
    <li>
    <a href="http://blog.csdn.net/dbzhang800/article/details/6376422#comments">用ISO C++实现自己的信号槽(Qt另类学习)</a>
    <p style="margin:0px;"><a href="http://blog.csdn.net/hcaihao" class="user_name">hcaihao</a>:
@dbzhang800:Win下无非是SendMessage、PostMessage、PostThr...
    </p>
    </li>
    <li>
    <a href="http://blog.csdn.net/dbzhang800/article/details/6334852#comments">Qt国际化（源码含中文时）的点滴分析</a>
    <p style="margin:0px;"><a href="http://blog.csdn.net/xieyuehaI_02" class="user_name">xieyuehaI_02</a>:
您好，请问编译linguist时出现下面的问题应该如何解决呢？error: cannot find ...
    </p>
    </li>
    <li>
    <a href="http://blog.csdn.net/dbzhang800/article/details/6300021#comments">Qt 之 show,hide,setVisible,setHidden,close 等小结</a>
    <p style="margin:0px;"><a href="http://blog.csdn.net/tsummer2010" class="user_name">tsummer2010</a>:
博主厉害，讲的很通俗
    </p>
    </li>
    <li>
    <a href="http://blog.csdn.net/dbzhang800/article/details/6660596#comments">隐式类型转换(C++学习)</a>
    <p style="margin:0px;"><a href="http://blog.csdn.net/lvjing_CSDN" class="user_name">lvjing_CSDN</a>:
楼主能说一下什么事省略符转换吗？或者给个相关链接，谢谢。
    </p>
    </li>
    <li>
    <a href="http://blog.csdn.net/dbzhang800/article/details/6348432#comments">浅谈 qmake 之 pro、pri、prf、prl文件</a>
    <p style="margin:0px;"><a href="http://blog.csdn.net/youhaipeng" class="user_name">youhaipeng</a>:
好文章，有些还不是很懂，先转载了，以后进一步了解。
    </p>
    </li>
    <li>
    <a href="http://blog.csdn.net/dbzhang800/article/details/6680563#comments">Qt 之 WindowFlags 引发的有趣问题一则</a>
    <p style="margin:0px;"><a href="http://blog.csdn.net/dayuanyuan1989" class="user_name">dayuanyuan1989</a>:
厉害啊
    </p>
    </li>
    <li>
    <a href="http://blog.csdn.net/dbzhang800/article/details/6341803#comments">cmake 学习笔记(六)</a>
    <p style="margin:0px;"><a href="http://blog.csdn.net/crazyboy471" class="user_name">crazyboy471</a>:
看了以后非常受用，谢谢分享，
    </p>
    </li>
</ul>
</div>
<div id="hotarticls" class="panel">
    <ul class="panel_head"><span>阅读排行</span></ul>
    <ul class="panel_body itemlist">
        <li>
            <a href="http://blog.csdn.net/dbzhang800/article/details/6363165" title="从 相对路径 说开来(从C++到Qt)">从 相对路径 说开来(从C++到Qt)</a><span>(12378)</span>
        </li>
        <li>
            <a href="http://blog.csdn.net/dbzhang800/article/details/6554104" title="Qt 线程基础(QThread、QtConcurrent等)">Qt 线程基础(QThread、QtConcurrent等)</a><span>(11819)</span>
        </li>
        <li>
            <a href="http://blog.csdn.net/dbzhang800/article/details/6376422" title="用ISO C++实现自己的信号槽(Qt另类学习)">用ISO C++实现自己的信号槽(Qt另类学习)</a><span>(9505)</span>
        </li>
        <li>
            <a href="http://blog.csdn.net/dbzhang800/article/details/6314073" title="cmake 学习笔记(一)">cmake 学习笔记(一)</a><span>(8573)</span>
        </li>
        <li>
            <a href="http://blog.csdn.net/dbzhang800/article/details/6403285" title="Qt 智能指针学习">Qt 智能指针学习</a><span>(8407)</span>
        </li>
        <li>
            <a href="http://blog.csdn.net/dbzhang800/article/details/6714261" title="PySide 路在何方?">PySide 路在何方?</a><span>(7510)</span>
        </li>
        <li>
            <a href="http://blog.csdn.net/dbzhang800/article/details/6300025" title="从 Qt 的 delete 说开来">从 Qt 的 delete 说开来</a><span>(7208)</span>
        </li>
        <li>
            <a href="http://blog.csdn.net/dbzhang800/article/details/6460229" title="qDebug 学习小结">qDebug 学习小结</a><span>(6898)</span>
        </li>
        <li>
            <a href="http://blog.csdn.net/dbzhang800/article/details/7517422" title="QString 乱谈(1)">QString 乱谈(1)</a><span>(6263)</span>
        </li>
        <li>
            <a href="http://blog.csdn.net/dbzhang800/article/details/6300789" title="1+1=2的 blog 文章索引">1+1=2的 blog 文章索引</a><span>(5733)</span>
        </li>
    </ul>
</div>
<div id="hotarticls2" class="panel">
    <ul class="panel_head"><span>评论排行</span></ul>
    <ul class="panel_body itemlist">
        <li>
            <a href="http://blog.csdn.net/dbzhang800/article/details/6376422" title="用ISO C++实现自己的信号槽(Qt另类学习)">用ISO C++实现自己的信号槽(Qt另类学习)</a><span>(55)</span>
        </li>
        <li>
            <a href="http://blog.csdn.net/dbzhang800/article/details/6300789" title="1+1=2的 blog 文章索引">1+1=2的 blog 文章索引</a><span>(37)</span>
        </li>
        <li>
            <a href="http://blog.csdn.net/dbzhang800/article/details/6300025" title="从 Qt 的 delete 说开来">从 Qt 的 delete 说开来</a><span>(28)</span>
        </li>
        <li>
            <a href="http://blog.csdn.net/dbzhang800/article/details/6363165" title="从 相对路径 说开来(从C++到Qt)">从 相对路径 说开来(从C++到Qt)</a><span>(28)</span>
        </li>
        <li>
            <a href="http://blog.csdn.net/dbzhang800/article/details/6381636" title="Qt编码风格">Qt编码风格</a><span>(19)</span>
        </li>
        <li>
            <a href="http://blog.csdn.net/dbzhang800/article/details/6422188" title="QMainWindow上下文菜单内存泄露(QTBUG)">QMainWindow上下文菜单内存泄露(QTBUG)</a><span>(18)</span>
        </li>
        <li>
            <a href="http://blog.csdn.net/dbzhang800/article/details/6300021" title="Qt 之 show,hide,setVisible,setHidden,close 等小结">Qt 之 show,hide,setVisible,setHidden,close 等小结</a><span>(15)</span>
        </li>
        <li>
            <a href="http://blog.csdn.net/dbzhang800/article/details/6877762" title="从QProcess说开来(二)">从QProcess说开来(二)</a><span>(14)</span>
        </li>
        <li>
            <a href="./Qt国际化（源码含中文时）的点滴分析 - 1+1=2 - 博客频道 - CSDN.NET_files/Qt国际化（源码含中文时）的点滴分析 - 1+1=2 - 博客频道 - CSDN.NET.html" title="Qt国际化（源码含中文时）的点滴分析">Qt国际化（源码含中文时）的点滴分析</a><span>(13)</span>
        </li>
        <li>
            <a href="http://blog.csdn.net/dbzhang800/article/details/6526535" title="Qt Lighthouse学习(一)">Qt Lighthouse学习(一)</a><span>(12)</span>
        </li>
    </ul>
</div>
</div>
<div class="clear"></div>
</div>

<div class="clear"></div>
</div>
<script type="text/javascript" src="./Qt国际化（源码含中文时）的点滴分析 - 1+1=2 - 博客频道 - CSDN.NET_files/shCore-src.js"></script>
<script type="text/javascript" src="./Qt国际化（源码含中文时）的点滴分析 - 1+1=2 - 博客频道 - CSDN.NET_files/ZeroClipboard.js"></script>
<script type="text/javascript" src="./Qt国际化（源码含中文时）的点滴分析 - 1+1=2 - 博客频道 - CSDN.NET_files/article_code.js"></script>
<script type="text/javascript" src="./Qt国际化（源码含中文时）的点滴分析 - 1+1=2 - 博客频道 - CSDN.NET_files/cnick.js"></script>

<script type="text/javascript" src="./Qt国际化（源码含中文时）的点滴分析 - 1+1=2 - 博客频道 - CSDN.NET_files/show.js"></script>
<script type="text/javascript" src="./Qt国际化（源码含中文时）的点滴分析 - 1+1=2 - 博客频道 - CSDN.NET_files/showblogmedal.ashx"></script>

<script type="text/javascript" src="./Qt国际化（源码含中文时）的点滴分析 - 1+1=2 - 博客频道 - CSDN.NET_files/publib_footer.js"></script><link rel="stylesheet" type="text/css" href="./Qt国际化（源码含中文时）的点滴分析 - 1+1=2 - 博客频道 - CSDN.NET_files/pub_footer_2012.css"><div class="pub_footerall"><dl><dt></dt> <dd><a href="http://www.csdn.net/company/about.html" target="_blank">公司简介</a>|<a href="http://www.csdn.net/company/recruit.html" target="_blank">招贤纳士</a>|<a href="http://www.csdn.net/company/marketing.html" target="_blank">广告服务</a>|<a href="http://www.csdn.net/company/account.html" target="_blank">银行汇款帐号</a>|<a href="http://www.csdn.net/company/contact.html" target="_blank">联系方式</a>|<a href="http://www.csdn.net/company/statement.html" target="_blank">版权声明</a>|<a href="http://www.csdn.net/company/layer.html" target="_blank">法律顾问</a>|<a href="mailto:webmaster@csdn.net">问题报告</a></dd><dd>京&nbsp;ICP&nbsp;证&nbsp;070598&nbsp;号</dd><dd>北京创新乐知信息技术有限公司 版权所有</dd><dd>世纪乐知(北京)网络技术有限公司 提供技术支持</dd><dd>江苏乐知网络技术有限公司 提供商务支持</dd><dd><img src="./Qt国际化（源码含中文时）的点滴分析 - 1+1=2 - 博客频道 - CSDN.NET_files/ico_email.gif" alt="" title=""> 联系邮箱：webmaster(at)csdn.net</dd><dd>Copyright © 1999-2012, CSDN.NET, All Rights Reserved&nbsp;<a href="http://www.hd315.gov.cn/beian/view.asp?bianhao=010202001032100010" target="_blank"><img src="./Qt国际化（源码含中文时）的点滴分析 - 1+1=2 - 博客频道 - CSDN.NET_files/gongshang_logos.gif" alt="GongshangLogo" title=""></a></dd></dl></div><script type="text/javascript" charset="utf-8" src="./Qt国际化（源码含中文时）的点滴分析 - 1+1=2 - 博客频道 - CSDN.NET_files/tracking.js" defer="" async=""></script>

<script type="text/javascript">document.write("<img src=http://counter.csdn.net/pv.aspx?id=24 border=0 width=0 height=0>");</script><img src="./Qt国际化（源码含中文时）的点滴分析 - 1+1=2 - 博客频道 - CSDN.NET_files/pv.aspx" border="0" width="0" height="0">
<script type="text/javascript" src="./Qt国际化（源码含中文时）的点滴分析 - 1+1=2 - 博客频道 - CSDN.NET_files/counter.js"></script><script type="text/javascript" charset="UTF-8" src="./Qt国际化（源码含中文时）的点滴分析 - 1+1=2 - 博客频道 - CSDN.NET_files/msg.popup.js"></script>

<!--ad.csdn.net-->
<script type="text/javascript" src="./Qt国际化（源码含中文时）的点滴分析 - 1+1=2 - 博客频道 - CSDN.NET_files/ad-blog.js"></script>



</div>

</body></html>