(function(){var r=window,e=r.bShareUtil,a=r.bShare,f=a.config,m=a.iL8n,b=f.popHCol,u=f.poptxtc,z=f.popbgc,B=a.bhost,A=a.whost,s=a.imageBasePath,C=[],D=["bsharesync","xinhuamb"],E="sinaminiblog,qqmb,renren,neteasemb,sohuminiblog,kaixin001,qzone,tianya,bsharesync".split(","),l=document,n=l.documentElement,o=l.body,p=Math.max,j=0,v=0,w=0,F=f.lang==="en",q=!1,H=function(){var c=l.getElementById("bsPanelHolder");if(!c)c=l.createElement("div"),c.id="bsPanelHolder";var G=c;e.loadStyle("a.bsSiteLink{text-decoration:none;color:"+
u+";}a.bshareDiv{overflow:hidden;height:16px;line-height:18px;font-size:14px;color:#333;padding-left:0;}a.bshareDiv:hover{text-decoration:none;}div.bsTitle{padding:0 8px;border-bottom:1px solid #e8e8e8;color:"+u+";background:"+z+";text-align:left;}a.bsSiteLink:hover{text-decoration:underline;}div.buzzButton{cursor:pointer;}div.bsRlogo,div.bsRlogoSel{width:60px;float:left;margin:0 4px;padding:2px 0;}div.bsLogo,div.bsLogoSel{float:left;width:111px;text-align:left;height:auto;padding:2px 4px;margin:2px 0;white-space:nowrap;overflow:hidden;}div.bsLogoSel,div.bsRlogoSel{border:1px solid #ddd;background:#f1f1f1;}div.bsLogo,div.bsRlogo{border:1px solid #fff;background:#fff;}div.bsLogo a,div.bsLogoSel a{display:block;height:16px;line-height:16px;padding:0 0 0 24px;text-decoration:none;float:left;overflow:hidden;}div.bsLogoSel a,div.bsRlogoSel a{color:#000;border:none;}div.bsLogo a,div.bsRlogo a{color:#666;border:none;}div.bsLogoLink{width:121px;overflow:hidden;background:#FFF;float:left;margin:3px 0;}#bsLogin{float:right;text-align:right;overflow:hidden;height:100%;}#bsPanel{position:absolute;z-index:100000000;font-size:12px;width:"+
(111*b+(b-1)*10+26+(e.isIe&&!e.isSt?6:0))+"px;background:url("+a.shost+"/frame/images/background-opaque-dark."+(e.isIe6?"gif":"png")+");padding:6px;-moz-border-radius:5px;-webkit-border-radius:5px;border-radius:5px;}div.bsClear{clear:both;height:0;line-height:0;font-size:0;overflow:hidden;}div.bsPopupAwd{background: url("+s+"/bshare_box_sprite2.gif) no-repeat top left;background-position:0 -624px;width:21px;float:left;margin-left: 2px;height:15px;font-size:12px;color:#fff;overflow:hidden;}div.bsPopupAwd span{margin-left:6px;}");
var i;i='<div class="bsTitle"><a style="float:left;height:20px;line-height:20px;font-weight:bold;" class="bsSiteLink" target="_blank" href="'+A+'/intro">'+m.shareText+'</a><a class="bsSiteLink" style="cursor:pointer;float:right;height:20px;line-height:20px;font-weight:bold;" onclick="document.getElementById(\'bsPanel\').style.display=\'none\';">X</a><div class="bsClear"></div></div><div class="bsClear"></div>';var h="",g,d,j,k=[],t,n,x,o,y,p=0,q;if(b==2){h+='<div style="height:47px;border-bottom:1px #ccc solid;padding:4px 0 4px 16px;margin-right:8px;_padding-left:12px;">';
for(g=0;g<3&&g<f.bps.length;g++)d=f.bps[g],a.pnMap[d]!==void 0&&(h+='<div class="bsRlogo" onmouseover="javascript:this.className=\'bsRlogoSel\'" onmouseout="javascript:this.className=\'bsRlogo\'"><a href="javascript:void(0);" onclick="javascript:bShare.share(event,\''+d+'\');return false;" style="text-decoration:none;line-height:120%;"><div style="cursor:pointer;width:24px;height:24px;margin:0 18px 2px;background:url('+s+"/logos/m2/"+d+'.gif) no-repeat;"></div><div style="cursor:pointer;text-align:center;width:60px;height:16px !important;overflow:hidden;color:inherit;white-space:nowrap;line-height:120% !important">'+
a.pnMap[d][0]+"</div></a></div>");h+="</div>"}for(d=0;d<b;d++)k.push("<div class='bsLogoLink'>");n=b<2&&f.bps.length>6?6:f.bps.length;for(g=0,t=b==2?3:0;t<n;t++)d=f.bps[t],a.pnMap[d]!==void 0&&(j=a.pnMap[d][0],y=a.pnMap[d][1]*-18,x=!!a.params.promote&&!F&&e.hasElem(E,d),o=(e.hasElem(C,d)?"font-weight: bold;":"")+(e.hasElem(D,d)?"color: red;":"")+(x?"width: 60px;":""),k[g%b]+='<div class="bsLogo" onmouseover="javascript:this.className=\'bsLogoSel\'" onmouseout="javascript:this.className=\'bsLogo\'"><a href="javascript:void(0);" title="'+
j+'" onclick="javascript:bShare.share(event,\''+d+'\');return false;" style="'+o+"background:url("+s+(y?"/slogos_sprite8."+(e.isIe?"gif":"png")+") no-repeat 0 "+y+'px;">':"/logos/s4/"+d+(e.isIe?".gif":".png")+') no-repeat;">')+j+"</a>",x&&(k[g%b]+='<div class="bsPopupAwd"><span>'+m.promoteShort+"</span></div>"),k[g%b]+="</div>",g++);v=116+26*Math.ceil(g/b)-(b!=2?56:0);w=b*121+28;for(d=0;d<b;d++)h+=k[d]+"</div>";h+="<div class='bsClear'></div>";for(q in a.pnMap)a.pnMap.hasOwnProperty(q)&&p++;k='<div style="height:20px;line-height:20px;padding:0 8px;border-top:1px solid #e8e8e8;color:'+
u+";background:"+z+';"><div class="buzzButton" style="float:left;">'+(b==1?m.morePlatsShort:m.morePlats+' <font style="font-weight:normal;">('+p+")</font>")+'</div><div id="bsLogin" style="'+(b<2?"width:80px;":"")+'">';f.logo&&(k+='<a class="bsSiteLink" href="'+A,k+=a.isLite?'" target="_blank"><span style="font-size:10px;vertical-align:bottom;line-height:24px;"><span style="color:#f60;">b</span>Share</span></a>':a.user?'/userProfile" title="'+a.user+'" target="_blank" style="width:120px;display:block;overflow:hidden;">'+
a.user+"</a>":'/register" title="'+m.regTitle+'" target="_blank">'+m.register+'</a>&nbsp;&nbsp;<a class="bsSiteLink" title="'+m.loginTitle+'" target="_blank" href="'+B+"/loginAction?originalUrl="+r.location+'" onclick="bShare.more();">'+m.login+"</a>");k+="</div></div>";i=i+"<div style='padding-left:8px;background:#fff;*height:"+(26*Math.ceil(g/b)+6+(b==2?56:0))+"px;'>"+h+"</div>"+k;G.innerHTML='<div id="bsPanel" style="display:none;">'+i+"</div>";l.body.appendChild(c);return c};a.hover=function(c){j!==
0&&clearTimeout(j);if(!c)c=r.event;var c=c.target?c.target:c.srcElement,b=l.getElementById("bsPanel"),i=f.poph,h=e.getOffset(c).x,g=e.getWH().w;if(i!=="right"&&(h+w>g||i==="left"))h-=w-c.offsetWidth;b.style.left=h+"px";i=e.getOffset(c).y;h=c.offsetHeight;e.getWH();b.style.top=f.pop==2||f.pop!=1&&i-{t:p(n.scrollTop,o.scrollTop),l:p(n.scrollLeft,o.scrollLeft)}.t+v+h>e.getWH().h?i-v-2+"px":i+h+2+"px";b.style.display="";a.params.promote&&!q&&(e.getElem(b,"div","bsTitle",function(a){a.style.backgroundImage=
'url("'+s+'promot/popup_top_bg.jpg")';a.style.backgroundRepeat="no-repeat";a.style.backgroundPosition=a.offsetWidth-113-20+"px"}),q=!0);a.prepare(c.parentNode.index);a.click()};a.ready=function(){H();var c=l.getElementById("bsPanel"),b=function(b){f.pop===-2?b.onclick=function(b){a.hover(b)}:(b.onmouseover=function(b){a.hover(b)},b.onmouseout=function(){j=setTimeout(function(){c.style.display="none"},1E3)})};a.style!=5&&e.getElem(l,"a","bshareDiv",function(a,c){a.index=c;e.getElem(a,"div","buzzButton",
function(a){b(a)})});e.getElem(l,"div","bshare-custom",function(a,c){a.index=c;e.getElem(a,"a","bshare-more",function(a){b(a)})});e.getElem(c,"div","buzzButton",function(b,c){b.onclick=function(b){a.more(b,c);return!1}});c.onmouseout=function(){j=setTimeout(function(){c.style.display="none"},600)};c.onmouseover=function(){j!==0&&clearTimeout(j)}};!f.bps||f.bps.length==0?setTimeout(function(){if(!f.bps||f.bps.length==0)f.bps="bsharesync,sinaminiblog,qqmb,renren,qzone,sohuminiblog,douban,kaixin001,baiduhi,qqxiaoyou,neteasemb,ifengmb,email,facebook,twitter,tianya,clipboard".split(","),
a.ready()},2E3):a.ready()})();
